<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Travel-Together-Survey</title>
  <!-- Latest compiled and minified CSS & JS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
  <link rel="stylesheet" href="css/style.css">

  <script src="https://code.jquery.com/jquery.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>

</head>
<body>

  <div class="container">
    <div class="jumbotron">
      <h1 class="text-center"><i class="fa fa-fire"></i>Travel Together</h1>
      <hr>
      <h3 class="text-center">Take the survey!!</h3>
    </div>
    <div class="personInfo">
        <form role="form">
            <div class="form-group">
                <input type="text" class="form-control" id="name" placeholder="Name">
            </div>
            <div class="form-group">
                <input type="text" class="form-control" id="photo" placeholder="Photo URL">
            </div>
        </form>
    </div>
    <div class="questionArea">
        <div class="row">
            <div class="col-lg-12">
                <p>1. Do you like to spend time on sports activities?</p>
                <label for= "option1">1</label>
                <input type="radio" id="option1" value="1" name="question1">
                <label for= "option2">2</label>
                <input type="radio" id="option2" value="2" name="question1">
                <label for= "option3">3</label>
                <input type="radio" id="option3" value="3" name="question1">
                <label for= "option4">4</label>
                <input type="radio" id="option4" value="4" name="question1">
                <label for= "option5">5</label>
                <input type="radio" id="option5" value="5" name="question1">
            </div>
        </div>
        <div class="row">
            <div class="col-lg-12">
                <p>2. do you like to stay in luxury hotels?</p>
                <label for= "option1">1</label>
                <input type="radio" id="option1" value="1" name="question2">
                <label for= "option2">2</label>
                <input type="radio" id="option2" value="2" name="question2">
                <label for= "option3">3</label>
                <input type="radio" id="option3" value="3" name="question2">
                <label for= "option4">4</label>
                <input type="radio" id="option4" value="4" name="question2">
                <label for= "option5">5</label>
                <input type="radio" id="option5" value="5" name="question2">
            </div>
        </div>
        <div class="row">
            <div class="col-lg-12">
                <p>3. Do you like to eat local food?</p>
                <label for= "option1">1</label>
                <input type="radio" id="option1" value="1" name="question3">
                <label for= "option2">2</label>
                <input type="radio" id="option2" value="2" name="question3">
                <label for= "option3">3</label>
                <input type="radio" id="option3" value="3" name="question3">
                <label for= "option4">4</label>
                <input type="radio" id="option4" value="4" name="question3">
                <label for= "option5">5</label>
                <input type="radio" id="option5" value="5" name="question3">
            </div>
        </div>
        <div class="row">
            <div class="col-lg-12">
                <p>4. Do you like to rent a car/bike and drive it yourself?</p>
                <label for= "option1">1</label>
                <input type="radio" id="option1" value="1" name="question4">
                <label for= "option2">2</label>
                <input type="radio" id="option2" value="2" name="question4">
                <label for= "option3">3</label>
                <input type="radio" id="option3" value="3" name="question4">
                <label for= "option4">4</label>
                <input type="radio" id="option4" value="4" name="question4">
                <label for= "option5">5</label>
                <input type="radio" id="option5" value="5" name="question4">
            </div>
        </div>
        <div class="row">
            <div class="col-lg-12">
                <p>5. Do you like to start the day early?</p>
                <label for= "option1">1</label>
                <input type="radio" id="option1" value="1" name="question5">
                <label for= "option2">2</label>
                <input type="radio" id="option2" value="2" name="question5">
                <label for= "option3">3</label>
                <input type="radio" id="option3" value="3" name="question5">
                <label for= "option4">4</label>
                <input type="radio" id="option4" value="4" name="question5">
                <label for= "option5">5</label>
                <input type="radio" id="option5" value="5" name="question5">
            </div>
        </div>
        <div class="row">
            <div class="col-lg-12">
                <p>6. do you like late night parties?</p>
                <label for= "option1">1</label>
                <input type="radio" id="option1" value="1" name="question6">
                <label for= "option2">2</label>
                <input type="radio" id="option2" value="2" name="question6">
                <label for= "option3">3</label>
                <input type="radio" id="option3" value="3" name="question6">
                <label for= "option4">4</label>
                <input type="radio" id="option4" value="4" name="question6">
                <label for= "option5">5</label>
                <input type="radio" id="option5" value="5" name="question6">
            </div>
        </div>
        <div class="row">
            <div class="col-lg-12">
                <p>7. Do you like to shop for souvenirs?</p>
                <label for= "option1">1</label>
                <input type="radio" id="option1" value="1" name="question7">
                <label for= "option2">2</label>
                <input type="radio" id="option2" value="2" name="question7">
                <label for= "option3">3</label>
                <input type="radio" id="option3" value="3" name="question7">
                <label for= "option4">4</label>
                <input type="radio" id="option4" value="4" name="question7">
                <label for= "option5">5</label>
                <input type="radio" id="option5" value="5" name="question7">
            </div>
        </div>
        <div class="row">
            <div class="col-lg-12">
                <p>8. Do you like local music?</p>
                <label for= "option1">1</label>
                <input type="radio" id="option1" value="1" name="question8">
                <label for= "option2">2</label>
                <input type="radio" id="option2" value="2" name="question8">
                <label for= "option3">3</label>
                <input type="radio" id="option3" value="3" name="question8">
                <label for= "option4">4</label>
                <input type="radio" id="option4" value="4" name="question8">
                <label for= "option5">5</label>
                <input type="radio" id="option5" value="5" name="question8">
            </div>
        </div>
        <div class="row">
            <div class="col-lg-12">
                <p>9. Do you like to visit tourist attractions?</p>
                <label for= "option1">1</label>
                <input type="radio" id="option1" value="1" name="question9">
                <label for= "option2">2</label>
                <input type="radio" id="option2" value="2" name="question9">
                <label for= "option3">3</label>
                <input type="radio" id="option3" value="3" name="question9">
                <label for= "option4">4</label>
                <input type="radio" id="option4" value="4" name="question9">
                <label for= "option5">5</label>
                <input type="radio" id="option5" value="5" name="question9">
            </div>
        </div>
        <div class="row">
            <div class="col-lg-12">
                <p>10. Do you like to discover new places?</p>
                <label for= "option1">1</label>
                <input type="radio" id="option1" value="1" name="question10">
                <label for= "option2">2</label>
                <input type="radio" id="option2" value="2" name="question10">
                <label for= "option3">3</label>
                <input type="radio" id="option3" value="3" name="question10">
                <label for= "option4">4</label>
                <input type="radio" id="option4" value="4" name="question10">
                <label for= "option5">5</label>
                <input type="radio" id="option5" value="5" name="question10">
            </div>
        </div>
    </div>
    <div class="text-right">
        <button type="submit" class="btn btn-primary btn-md" id="find-btn" data-toggle="modal" data-target="#exampleModal">Find Travel Companion</button>
    </div>
      
      <!-- Modal -->
      <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLabel"></h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
            <img class="img-responsive" id="companionPicture"/>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            </div>
          </div>
        </div>
      </div>

    <div class="row">
      <div class="col-lg-12">
        <a href="/api/companion">API Companion List</a> |
        <a href="#">Github Link</a>
      </div>
    </div>
  </div>

  <script type="text/javascript">
    $("#name").on("focus", function(){
        $(this).attr("placeholder","");
    })
    $("#name").on("blur", function(){
        $(this).attr("placeholder","Name");
    })
    $("#photo").on("focus", function(){
        $(this).attr("placeholder","");
    })
    $("#photo").on("blur", function(){
        $(this).attr("placeholder","Photo URL");
    })
    $("#find-btn").on("click", function(event){
        event.preventDefault();

        var answersArray = [];
        for(var i =0;i<10;i++){
            answersArray.push($("input[name=question"+parseInt(i+1)+"]:checked").val());
        }
       
        var newPerson = {
            name:$("#name").val(),
            photoURL:$("#photo").val(),
            answers:answersArray
        };

        $.post("/api/companion", newPerson, function(data){
            $.get("/api/match",function(data){
                //console.log(data.name);
                $("#exampleModalLabel").text(data.name);
                $("#companionPicture").attr("alt",data.photoURL);
                $("#companionPicture").attr("src",data.photoURL);
                $("#companionPicture").css("max-height","300px");

            });
        });
    });
  </script>

</body>
</html>
